var FixedHeader={},LayoutAndFilter={},themifyScript,ThemifySlider,ThemifyGallery,ThemifyMediaElement,qp_max_pages;!function(a){var c,f,g,b=a.event,d={_:0},e=0;c=b.special.throttledresize={setup:function(){a(this).on("resize",c.handler)},teardown:function(){a(this).off("resize",c.handler)},handler:function(h,i){var j=this,k=arguments;f=!0,g||(setInterval(function(){e++,(e>c.threshold&&f||i)&&(h.type="throttledresize",b.dispatch.apply(j,k),f=!1,e=0),e>9&&(a(d).stop(),g=!1,e=0)},30),g=!0)},threshold:0}}(jQuery),function(a){function b(){return"true"===themifyScript.isTouch}function c(b){a("body,html").animate({scrollTop:b},800)}function d(b,c){if("undefined"!=typeof a.fn.infinitescroll){var d=parseInt(themifyScript.maxPages);"undefined"!=typeof qp_max_pages&&(d=qp_max_pages),b.infinitescroll({navSelector:"#load-more a:last",nextSelector:"#load-more a:last",itemSelector:c,loadingText:"",donetext:"",loading:{img:themifyScript.loadingImg},maxPage:d,behavior:"auto"!==themifyScript.autoInfinite?"twitter":"",pathParse:function(a){return a.match(/^(.*?)\b2\b(?!.*\b2\b)(.*?$)/).slice(1)},bufferPx:50,pixelsFromNavToBottom:a("#footerwrap").height()},function(c){var e=a(c);a(".post.newItems").removeClass("newItems"),e.addClass("newItems"),"reset"===themifyScript.resetFilterOnLoad&&LayoutAndFilter.reset(),e.hide().imagesLoaded(function(){e.fadeIn(),a(".wp-audio-shortcode, .wp-video-shortcode").not("div").each(function(){var b=a(this);0===b.closest(".mejs-audio").length&&ThemifyMediaElement.init(b)}),"undefined"!=typeof ThemifyGallery&&ThemifyGallery.init({context:a(themifyScript.lightboxContext)}),"object"==typeof b.data("isotope")&&b.isotope("appended",e),LayoutAndFilter.filterActive&&(LayoutAndFilter.enableFilters(),"scroll"===themifyScript.scrollToNewOnLoad&&LayoutAndFilter.restore()),a("#infscr-loading").fadeOut("normal"),1===d&&a("#load-more, #infscr-loading").remove(),a("body").trigger("infiniteloaded.themify",[e]),a(window).trigger("resize")}),d-=1,d>1&&"auto"!==themifyScript.autoInfinite&&a(".load-more-button").show()}),"auto"===themifyScript.autoInfinite&&a("#load-more, #load-more a").hide()}}FixedHeader={headerHeight:0,hasHeaderSlider:!1,headerSlider:!1,init:function(){FixedHeader.calculateHeaderHeight(),a("#pagewrap").css("paddingTop",Math.floor(FixedHeader.headerHeight)),""!==themifyScript.fixedHeader&&(FixedHeader.activate(),a(window).on("scroll touchstart.touchScroll touchmove.touchScroll",FixedHeader.activate)),a(window).on("throttledresize",function(){a("#pagewrap").css("paddingTop",Math.floor(FixedHeader.headerHeight))}),a("#gallery-controller").length>0&&(FixedHeader.hasHeaderSlider=!0),a(window).load(FixedHeader.calculateHeaderHeight),a("body").on("announcement_bar_position",FixedHeader.calculateHeaderHeight),a("body").on("announcement_bar_scroll_on_after",FixedHeader.calculateHeaderHeight)},activate:function(){var b=a(window),c=b.scrollTop(),d=a("#headerwrap");a("#pagewrap").css("paddingTop",Math.floor(FixedHeader.headerHeight)),c>=FixedHeader.headerHeight?d.hasClass("fixed-header")||FixedHeader.scrollEnabled():d.hasClass("fixed-header")&&FixedHeader.scrollDisabled()},scrollDisabled:function(){a("#pagewrap").css("paddingTop",Math.floor(FixedHeader.headerHeight)),a("#headerwrap").removeClass("fixed-header"),a("#header").removeClass("header-on-scroll"),a("body").removeClass("fixed-header-on"),FixedHeader.hasHeaderSlider&&"object"==typeof a("#headerwrap").data("backstretch")&&(a("#headerwrap").data("backstretch").resize(),a("#gallery-controller .slides").trigger("next")),FixedHeader.calculateHeaderHeight()},scrollEnabled:function(){a("#headerwrap").addClass("fixed-header"),a("#header").addClass("header-on-scroll"),a("body").addClass("fixed-header-on"),FixedHeader.hasHeaderSlider&&"object"==typeof a("#headerwrap").data("backstretch")&&(a("#headerwrap").data("backstretch").resize(),a("#gallery-controller .slides").trigger("next"))},calculateHeaderHeight:function(){var b=a("#headerwrap").outerHeight(!0);b+=parseFloat(a("#headerwrap").css("marginTop")),FixedHeader.headerHeight=b}},FixedHeader.init(),ThemifySlider={recalcHeight:function(b,c){var e,d=[];a.each(b,function(){d.push(a(this).outerHeight(!0))}),e=Math.max.apply(Math,d),c.closest(".carousel-wrap").find(".caroufredsel_wrapper, .slideshow").each(function(){a(this).outerHeight(e)})},didResize:!1,createCarousel:function(b){var c=this;b.each(function(){var b=a(this);b.carouFredSel({responsive:!0,prev:"#"+b.data("id")+" .carousel-prev",next:"#"+b.data("id")+" .carousel-next",pagination:{container:"#"+b.data("id")+" .carousel-pager"},circular:!0,infinite:!0,swipe:!0,scroll:{items:b.data("scroll"),fx:"scroll",duration:parseInt(b.data("speed"))},auto:{play:"off"!==b.data("autoplay"),timeoutDuration:"off"!==b.data("autoplay")?parseInt(b.data("autoplay")):0},items:{visible:{min:1,max:b.data("visible")?parseInt(b.data("visible")):1},width:222},onCreate:function(d){var e=b.closest(".slideshow-wrap");e.css({visibility:"visible",height:"auto"}),a(window).on("throttledresize",function(){c.recalcHeight(d.items,b)}),a(window).resize(),setTimeout(function(){e.find(".carousel-nav-wrap").css("width",18*parseInt(e.find(".carousel-pager").find("a").length)+"px")},200)}})})}},LayoutAndFilter={filterActive:!1,init:function(){themifyScript.disableMasonry=a("body").hasClass("masonry-enabled")?"":"disable-masonry","disable-masonry"!==themifyScript.disableMasonry&&(a(".post-filter + .portfolio.list-post,.loops-wrapper.grid4,.loops-wrapper.grid3,.loops-wrapper.grid2,.loops-wrapper.portfolio.grid4,.loops-wrapper.portfolio.grid3,.loops-wrapper.portfolio.grid2").prepend('<div class="grid-sizer">').prepend('<div class="gutter-sizer">'),this.enableFilters(),this.filter(),this.filterActive=!0)},enableFilters:function(){var b=a(".post-filter");b.find("a").length>0&&"undefined"!=typeof a.fn.isotope&&b.find("li").each(function(){var b=a(this),c=b.parent().next(),d=b.attr("class").replace(/(current-cat)|(cat-item)|(-)|(active)/g,"").replace(" ","");c.find(".portfolio-post.cat-"+d).length<=0?b.hide():b.show()})},filter:function(){var b=a(".post-filter");b.find("a").length>0&&"undefined"!=typeof a.fn.isotope&&b.addClass("filter-visible").on("click","a",function(b){b.preventDefault();var c=a(this).parent(),d=c.parent().next();c.hasClass("active")?(c.removeClass("active"),d.isotope({masonry:{columnWidth:".grid-sizer",gutter:".gutter-sizer"},filter:".portfolio-post"})):(c.siblings(".active").removeClass("active"),c.addClass("active"),d.isotope({filter:".cat-"+c.attr("class").replace(/(current-cat)|(cat-item)|(-)|(active)/g,"").replace(" ","")}))})},scrolling:!1,reset:function(){a(".post-filter").find("li.active").find("a").addClass("previous-active").trigger("click"),this.scrolling=!0},restore:function(){var b=a(".newItems").first(),c=this,d=b.offset().top-b.outerHeight(!0)/2,e=800;d>=800&&(e=800+Math.abs(d/1e3*100)),a("html,body").stop().animate({scrollTop:d},e,function(){c.scrolling=!1})},layout:function(){"disable-masonry"!==themifyScript.disableMasonry&&(a(".post-filter + .portfolio.list-post,.loops-wrapper.portfolio.grid4,.loops-wrapper.portfolio.grid3,.loops-wrapper.portfolio.grid2,.loops-wrapper.portfolio-taxonomy").isotope({masonry:{columnWidth:".grid-sizer",gutter:".gutter-sizer"},itemSelector:".portfolio-post"}).addClass("masonry-done"),a(".loops-wrapper.grid4,.loops-wrapper.grid3,.loops-wrapper.grid2").not(".portfolio-taxonomy,.portfolio").isotope({masonry:{columnWidth:".grid-sizer",gutter:".gutter-sizer"},itemSelector:".loops-wrapper > article"}).addClass("masonry-done").isotope("once","layoutComplete",function(){a(window).trigger("resize")}),a(".woocommerce.archive").find("#content").find("ul.products").isotope({layoutMode:"packery",itemSelector:".type-product"}).addClass("masonry-done"));var b=a(".gallery-wrapper.packery-gallery");b.length>0&&b.isotope({layoutMode:"packery",itemSelector:".item"})},reLayout:function(){a(".loops-wrapper").each(function(){var b=a(this);"object"==typeof b.data("isotope")&&b.isotope("layout")});var b=a(".gallery-wrapper.packery-gallery");b.length>0&&"object"==typeof b.data("isotope")&&b.isotope("layout")}},a(document).ready(function(){var d=a("body"),e=a("#header");if("undefined"!=typeof a.fn.themifyScrollHighlight&&d.themifyScrollHighlight(),LayoutAndFilter.init(),LayoutAndFilter.layout(),"undefined"!=typeof a.fn.animatedBG&&a(".animated-bg").animatedBG({colorSet:themifyScript.colorAnimationSet.split(","),speed:parseInt(themifyScript.colorAnimationSpeed,10)}),a(".back-top a").on("click",function(a){a.preventDefault(),c(0)}),"function"==typeof a.fn.themifyDropdown&&a("#main-nav").themifyDropdown(),d.hasClass("header-minbar")||d.hasClass("header-leftpane")){if(a("#menu-icon").themifySideMenu({close:"#menu-icon-close",side:"left"}),"undefined"!=typeof a.fn.niceScroll&&!b()){var f=e;d.hasClass("header-minbar")&&(f=a("#mobile-menu")),f.niceScroll(),d.on("sidemenushow.themify",function(){setTimeout(function(){f.getNiceScroll().resize()},200)})}}else if(d.hasClass("header-slide-out")){if(a("#menu-icon").themifySideMenu({close:"#menu-icon-close",side:"right"}),"undefined"!=typeof a.fn.niceScroll&&!b()){var f=e;d.hasClass("header-slide-out")&&(f=a("#mobile-menu")),f.niceScroll(),d.on("sidemenushow.themify",function(){setTimeout(function(){f.getNiceScroll().resize()},200)})}}else a("#menu-icon").themifySideMenu({close:"#menu-icon-close"});if(a(".highlight-post:odd").addClass("odd"),"undefined"!=typeof ThemifyGallery&&ThemifyGallery.init({context:a(themifyScript.lightboxContext)}),"undefined"!=typeof a.fn.niceScroll&&!b()){var g=a(window).width();g>1e3&&jQuery(".header-horizontal .header-widget, .header-top-bar .header-widget, .boxed-compact .header-widget").niceScroll()}var h=a(".header-horizontal, .header-top-bar, .boxed-compact").find(".header-widget");if(h.length>0&&(a(".header-horizontal #header, .header-top-bar #header, .boxed-compact #header").append(a('<a href="#" class="pull-down">')),a(".pull-down").on("click",function(c){"undefined"==typeof a.fn.niceScroll||b()||h.getNiceScroll().resize(),a("#header").toggleClass("pull-down-close"),h.slideToggle("fast",function(){a("#pagewrap").css("paddingTop",a("#headerwrap").outerHeight())}),c.preventDefault()})),a(window).resize(function(){var c=a(window).width();1e3>c&&("undefined"==typeof a.fn.niceScroll||b()||jQuery(".header-horizontal .header-widget, .header-top-bar .header-widget, .boxed-compact .header-widget").getNiceScroll().remove(),jQuery(".header-horizontal .header-widget, .header-top-bar .header-widget, .boxed-compact .header-widget").attr("style",""))}),a("body").on("click",".loops-wrapper.grid4.polaroid .post-image + .post-content, .loops-wrapper.grid3.polaroid .post-image + .post-content, .loops-wrapper.grid2.polaroid .post-image + .post-content, .loops-wrapper.grid4.overlay .post-image + .post-content, .loops-wrapper.grid3.overlay .post-image + .post-content, .loops-wrapper.grid2.overlay .post-image + .post-content",function(){var b=a(this).closest(".post").find("a[data-post-permalink]");b.hasClass("lightbox")||(window.location=b.attr("href"))}),"undefined"!=typeof a.fn.carouFredSel){if(a(".loops-wrapper.slider").length>0){var i=0;a(".loops-wrapper.slider").each(function(){i++;var b=a(this);"undefined"==typeof b.attr("id")&&b.attr("id","loops-wrapper-"+i);var c=b.attr("id");b.addClass("slideshow-wrap"),0===b.find(".slideshow").length?b.wrapInner('<div class="slideshow" data-id="'+c+'" data-autoplay="off" data-speed="1000" data-effect="scroll" data-visible="3" />'):b.find(".slideshow").attr("data-id",c)})}ThemifySlider.createCarousel(a(".slideshow"))}a("body").on("announcement_bar_position announcement_bar_scroll_on_after",function(b,c){a("#pagewrap").css("paddingTop",Math.floor(a("#headerwrap").outerHeight(!0)))});var j=a("#headerwrap");a("body").on("announcement_bar_position",function(b,c){a(this).hasClass("header-minbar")?c.css("left",j.width()-Math.abs(parseInt(j.css("left"),10))):a(this).hasClass("header-leftpane")}),a("body").on("announcement_bar_position",function(b,c){a(this).hasClass("header-minbar")?c.css("right",j.width()-Math.abs(parseInt(j.css("right"),10))):a(this).hasClass("header-slide-out")})}),a(window).load(function(){var c=a("body");if(c.hasClass("woocommerce")&&c.hasClass("archive")?d(a("#content ul.products"),"#content .product"):d(a("#loops-wrapper"),".post"),!b()&&"undefined"!=typeof a.BigVideo){var e=a("[data-fullwidthvideo]").not(".themify_builder_row"),f=[];a.each(e,function(b,c){f[b]=new a.BigVideo({useFlashForFirefox:!1,container:a(c),id:b}),f[b].init(),f[b].show(a(c).data("fullwidthvideo"),{doLoop:!0})})}c.imagesLoaded(function(){a(window).resize(),LayoutAndFilter.reLayout()})})}(jQuery);